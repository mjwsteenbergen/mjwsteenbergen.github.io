import{o as s}from"./p-b0b0e94d.60748ea7.js";const y=(a,t)=>{const n={};t.forEach(o=>{const e=o.Type;n[e!=null?e:"unknown"]||(n[e!=null?e:"unknown"]=[]),n[e!=null?e:"unknown"].push(o)}),Object.keys(n).forEach(o=>{p(n[o],a,o)}),s().collectionId&&l(a,t)},l=(a,t)=>{const n=t.reduce((o,e)=>{const[i,r]=o;return e.Longitude>i[0]&&(o[0][0]=e.Longitude),e.Latitude>i[1]&&(o[0][1]=e.Latitude),e.Longitude<r[0]&&(o[1][0]=e.Longitude),e.Latitude<r[1]&&(o[1][1]=e.Latitude),o},[[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]]);a.fitBounds(n,{padding:{bottom:100,left:100,right:500,top:100}})},d={"Place to visit":"attraction","Place to eat":"restaurant","Vacation Highlight":"embassy",WikipediaPlace:"attraction",unknown:"rocket"},p=(a,t,n)=>{var o;const e="places-"+n,i={type:"FeatureCollection",features:a.map(r=>({type:"Feature",geometry:{type:"Point",coordinates:[r.Longitude,r.Latitude]},properties:r}))};t.getLayer(e)&&t.removeLayer(e),t.getSource(e)&&t.removeSource(e),t.addSource(e,{type:"geojson",data:i}),t.addLayer({id:e,type:"symbol",source:e,layout:{"icon-image":(o=d[n!=null?n:"unkown"])!==null&&o!==void 0?o:"rocket","icon-size":1.5,"icon-allow-overlap":!0,"icon-anchor":"center","text-optional":!0,"text-anchor":"top","text-offset":[0,.75],"text-field":["format",["get","Name"]]}}),t.on("mouseenter",e,()=>{t.getCanvas().style.cursor="pointer"}),t.on("mouseleave",e,()=>{t.getCanvas().style.cursor=""}),t.on("click",e,r=>{const c=t.queryRenderedFeatures(r.point,{layers:[e]});if(!c.length)return;const u=c[0].properties;t.easeTo({center:[u.Longitude,u.Latitude],zoom:Math.max(t.getZoom(),12)}),m(u)})},m=a=>{if(!a)return;const t=document.getElementById("text");t.innerHTML="";const n=document.createElement("place-details");n.setAttribute("pageId",a.Id),t.appendChild(n)};export{y as e,p as n,l as o};
